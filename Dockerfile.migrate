FROM golang:1.24-alpine

# Устанавливаем goose один раз
RUN go install github.com/pressly/goose/v3/cmd/goose@latest

WORKDIR /migrations

ENTRYPOINT ["goose"]
CMD ["up"]